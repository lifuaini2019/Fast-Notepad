# 快速记事本 (Go 版本)

这是一个基于 Web 的记事本应用，使用 Go 语言作为后端，可以将用户创建的笔记自动保存到 data.txt 文件中。

## 功能特点

1. 创建和管理多个笔记
2. 在笔记中添加多个内容段落
3. Markdown 格式支持
4. 导出为 TXT 或 Markdown 文件
5. 导出所有笔记为 ZIP 文件
6. 深色/浅色主题切换
7. **全自动保存到服务器端文件 (data.txt)** - 无需手动开关，自动保存
8. **程序启动时自动生成空的 data.txt 和 data_readable.txt 文件**（如果文件不存在）
9. **性能优化** - 解决了新建笔记和新建内容时的卡顿问题
10. 响应式设计，支持移动端使用
11. 拖拽排序笔记
12. 双栏/单栏显示模式切换
13. 内容复制和另存为功能
14. 实时编辑和保存功能

## 技术栈

- 前端: HTML, CSS, JavaScript, TailwindCSS
- 后端: Go 语言
- 数据存储: 浏览器 localStorage + 服务器端文件存储

## 安装和运行

1. 确保你的系统已安装 Go 语言环境 (1.16 或更高版本)

2. 克隆或下载此项目到本地

3. 打开终端，进入项目目录:
   ```
   cd /Users/libao/程序开发/快速记事本
   ```

4. 运行 Go 服务器:
   ```
   go run main.go
   ```

5. 在浏览器中打开以下地址:
   ```
   http://localhost:1916
   ```

## 使用说明

1. 首次使用时，点击"新建笔记"创建一个笔记
2. 在笔记中点击"添加内容"来添加内容段落
3. 内容支持 Markdown 格式
4. **所有数据变更都会自动保存到服务器的 data.txt 文件中**（无需手动开启）
5. 可以使用"导出TXT"或"导出MD"按钮导出单个笔记
6. 使用"导出全部"按钮导出所有笔记为 ZIP 文件
7. 使用"切换主题"按钮可以在深色和浅色主题之间切换

## 文件说明

- `main.go`: Go 后端服务器代码
- `web/`: 前端文件目录
  - `index.html`: 主页面
  - `style.css`: 额外的样式文件
- `data.txt`: 自动保存的笔记数据文件（程序启动时自动生成，以紧凑的JSON格式存储）
- `data_readable.txt`: 格式化的笔记数据文件（程序启动时自动生成，以格式化的JSON格式存储，便于阅读）

## API 接口

- `POST /save`: 保存笔记数据到服务器
- `GET /load`: 从服务器加载笔记数据
- `GET /`: 提供前端静态文件

## 注意事项

1. 笔记数据默认存储在浏览器的 localStorage 中
2. **数据会全自动保存到服务器的 data.txt 文件中**（已移除手动开关）
3. 页面刷新时会尝试从服务器加载数据（如果存在）
4. data.txt 文件以 JSON 格式存储数据
5. data_readable.txt 文件以格式化的 JSON 格式存储数据，便于阅读
6. 程序启动时会自动检查并生成 data.txt 和 data_readable.txt 文件（如果不存在）
7. 已优化性能，解决新建笔记和新建内容时的卡顿问题